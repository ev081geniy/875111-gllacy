var link=document.querySelector(".button-feedback"),feedback=document.querySelector(".modal-feedback"),overlay=document.querySelector(".overlay"),close=document.querySelector(".modal-close"),form=feedback.querySelector("form"),feedname=feedback.querySelector("[name=feedback-name]"),feedmail=feedback.querySelector("[name=feedback-email]"),feedtext=feedback.querySelector("textarea"),storage="",isStorageSupport=!0;try{storage=localStorage.getItem("feedname")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),overlay.classList.add("overlay-show"),feedback.classList.add("modal-show"),feedname.focus(),storage?(feedname.value=storage,feedmail.focus()):feedname.focus()}),form.addEventListener("submit",function(e){feedname.value&&feedmail.value&&textarea.value?isStorageSupport&&localStorage.setItem("feedname",feedname.value):(e.preventDefault(),feedback.classList.remove("modal-error"),feedback.offsetWidth=feedback.offsetWidth,feedback.classList.add("modal-error"),storage?(feedname.value=storage,feedmail.focus()):feedname.focus())}),close.addEventListener("click",function(e){e.preventDefault(),overlay.classList.remove("overlay-show"),feedback.classList.remove("modal-show"),feedback.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedback.classList.contains("modal-show")&&(e.preventDefault(),overlay.classList.remove("overlay-show"),feedback.classList.remove("modal-show"),feedback.classList.remove("modal-error"))});
